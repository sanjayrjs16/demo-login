(this["webpackJsonpdemo-login"]=this["webpackJsonpdemo-login"]||[]).push([[0],{12:function(e,t,n){},25:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),s=n.n(a),c=n(9),o=n.n(c),i=(n(25),n.p+"static/media/logo.6ce24c58.svg"),u=(n(12),n(10)),d=n(3),p=n(2),l="LOGIN",h="LOGOUT",j="SET_USERNAME",b="SET_PASSWORD",O="SHOW_LOADER",g="SHOW_MESSAGE",m="RESET_FIELDS",f={authenticated:!1,username:"",password:"",showMessage:!1},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(p.a)(Object(p.a)({},e),{},{username:t.username});case b:return Object(p.a)(Object(p.a)({},e),{},{password:t.password});case m:return Object(p.a)(Object(p.a)({},e),{},{username:"",password:""});case l:return Object(p.a)(Object(p.a)({},e),{},{authenticated:!0});case h:return Object(p.a)(Object(p.a)({},e),{},{authenticated:!1});case O:return Object(p.a)(Object(p.a)({},e),{},{showLoader:!e.showLoader});case g:return Object(p.a)(Object(p.a)({},e),{},{showMessage:!0});default:return e}},w=Object(d.c)({login:v}),y=n(18),x=Object(d.d)(w,Object(d.a)(y.a)),S=n(4),C=n(5),k=n(8),E=n(7),L=n(6),A=n(16),N=n.n(A),M=n(19),T=function(){return{type:O}},P=function(){return{type:g}};function D(e){var t=e.message,n=e.type;return Object(r.jsx)("div",{className:"message".concat(n),children:Object(r.jsx)("p",{children:t})})}var I=function(e){Object(E.a)(n,e);var t=Object(L.a)(n);function n(e){var r;return Object(S.a)(this,n),(r=t.call(this,e)).handleSubmit=r.handleSubmit.bind(Object(k.a)(r)),r.handleChange=r.handleChange.bind(Object(k.a)(r)),r}return Object(C.a)(n,[{key:"handleChange",value:function(e,t){var n=this.props.props,r=n.setUsername,a=n.setPassword;switch(t){case"username":r(e.target.value);break;case"password":a(e.target.value)}}},{key:"handleSubmit",value:function(e,t,n){e.preventDefault(),(0,this.props.props.checkCredAsync)(t,n)}},{key:"render",value:function(){var e=this,t=this.props.props,n=t.username,a=t.password,s=t.showLoader,c=t.showMessage;return console.log("COmponent rendered",n," ",a),Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"Login"}),s&&Object(r.jsx)("img",{src:i,className:"App-logo"}),c&&Object(r.jsx)(D,{type:"-error",message:"Incorrect Username or password ! Please try again"}),Object(r.jsxs)("form",{onSubmit:function(t){return e.handleSubmit(t,n,a)},children:[Object(r.jsx)("input",{className:"input",placeholder:"Username/Email",type:"text",onChange:function(t){return e.handleChange(t,"username")},value:n,required:!0}),Object(r.jsx)("input",{placeholder:"Password",type:"password",onChange:function(t){return e.handleChange(t,"password")},value:a,required:!0}),Object(r.jsx)("input",{className:"submit",placeholder:"Submit",type:"submit"})]})]})}}]),n}(s.a.Component),U=function(e){Object(E.a)(n,e);var t=Object(L.a)(n);function n(){return Object(S.a)(this,n),t.apply(this,arguments)}return Object(C.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(r.jsxs)("div",{children:["Nothing to see here",console.log("Inside dashboard")]})}}]),n}(a.Component),F=function(e){Object(E.a)(n,e);var t=Object(L.a)(n);function n(e){return Object(S.a)(this,n),t.call(this,e)}return Object(C.a)(n,[{key:"render",value:function(){return Object(r.jsx)("div",{children:this.props.authenticated?Object(r.jsx)(U,{props:this.props}):Object(r.jsx)(I,{props:this.props})})}}]),n}(a.Component),_=Object(u.b)((function(e){return{authenticated:e.login.authenticated,username:e.login.username,password:e.login.password,showLoader:e.login.showLoader,loginError:e.login.loginError}}),(function(e){return{setUsername:function(t){return e(function(e){return{type:j,username:e}}(t))},setPassword:function(t){return e(function(e){return{type:b,password:e}}(t))},checkCredAsync:function(t,n){return e(function(e,t){return function(){var n=Object(M.a)(N.a.mark((function n(r){var a,s,c,o;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(T()),console.log("inside checkCredAsync",e,t),n.next=4,fetch("https://sanjayrjs16.github.io/mock-rest-api/valid-cred.json");case 4:if(!(a=n.sent).ok){n.next=13;break}return n.next=8,a.json();case 8:s=n.sent,c=s.username,o=s.password,console.log(c,o),e===c&&t==o?(console.log("Now logged in my friend"),setTimeout((function(){r(T()),r({type:l})}),2e3)):setTimeout((function(){r(T()),r(P()),r({type:m})}),2e3);case 13:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))},showMessage:function(){return e(P())}}}))(F);var R=function(){return Object(r.jsx)(u.a,{store:x,children:Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(_,{})})})},G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))};o.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(R,{})}),document.getElementById("root")),G()}},[[33,1,2]]]);
//# sourceMappingURL=main.99d11763.chunk.js.map